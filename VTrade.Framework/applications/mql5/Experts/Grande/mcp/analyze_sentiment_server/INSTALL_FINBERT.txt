================================================================================
             INSTALLING FINBERT FOR GRANDE TRADING SYSTEM
================================================================================

QUICK INSTALL (2 STEPS):
------------------------
STEP 1: Install FinBERT packages
   1. Right-click "install_finbert.ps1" 
   2. Select "Run with PowerShell"
   3. Wait 5-10 minutes for installation

   OR

   1. Double-click "install_finbert.bat"
   2. Wait 5-10 minutes for installation

STEP 2: Start the FinBERT File Watcher Service
   1. Double-click "start_finbert_watcher.bat"
   2. Service will run in a separate window (keep it open)
   3. Service will automatically process new market data
   
   To stop the service:
   - Close the service window, OR
   - Double-click "stop_finbert_watcher.bat"

WHAT GETS INSTALLED:
--------------------
- PyTorch (Deep Learning Framework)
- Transformers (HuggingFace Library for FinBERT)
- NumPy (Numerical Computing)
- FinBERT Model (~440MB download)

TOTAL SIZE: ~1GB

CHECKING IF IT WORKS:
---------------------

STEP 1: Check if FinBERT packages are installed
   Run: python -m pip list
   Look for: torch, transformers, numpy

STEP 2: Check if the file watcher service is running
   - You should see a window titled "FinBERT File Watcher Service"
   - Check the log: mcp\analyze_sentiment_server\finbert_watcher.log
   - Look for: "Service started successfully - monitoring for new files..."

STEP 3: Verify in MT5 Experts log
   SUCCESS - Real FinBERT Active:
     [OK] FinBERT dependencies loaded successfully
     [OK] Enhanced FinBERT pipeline initialized successfully
     [OK] FinBERT AI: Real financial sentiment analysis active

   FAILURE - Using Fallback:
     [ERROR][ERROR][ERROR] FINBERT NOT AVAILABLE [ERROR][ERROR][ERROR]
     [WARNING] FALLING BACK TO KEYWORD-BASED ANALYSIS (NOT REAL AI)
     [WARNING] Calendar analysis is using KEYWORD MATCHING

MANUAL INSTALLATION:
--------------------
Open Command Prompt and run:

  python -m pip install --upgrade pip
  python -m pip install torch --index-url https://download.pytorch.org/whl/cpu
  python -m pip install transformers
  python -m pip install numpy

TROUBLESHOOTING:
----------------

Problem: Python not found
Solution: Install Python from https://www.python.org/downloads/
          Check "Add Python to PATH" during installation
          Restart computer after installing

Problem: Installation takes too long
Solution: This is normal. First install downloads ~500MB of files.
          FinBERT model is downloaded on first use (~440MB more).

Problem: Firewall blocking
Solution: Temporarily disable firewall during installation
          Re-enable after installation completes

Problem: Still shows fallback mode after install
Solution: 1. Restart MT5 terminal completely
          2. Restart the EA
          3. Check Python packages: python -m pip list
          4. Look for torch, transformers, numpy in the list

TEST MANUALLY:
--------------
To test if FinBERT works, run this in Command Prompt:

  cd C:\git\AutoTrade\VTrade.Framework\applications\mql5\Experts\Grande\mcp\analyze_sentiment_server
  python enhanced_finbert_analyzer.py

Look for:
  [OK] Enhanced FinBERT dependencies loaded successfully
  [OK] Loading Enhanced FinBERT model: yiyanghkust/finbert-tone
  [OK] Enhanced FinBERT pipeline initialized successfully

If you see:
  [ERROR][ERROR][ERROR] FINBERT NOT AVAILABLE

Then the Python packages are not installed correctly.

SYSTEM REQUIREMENTS:
--------------------
- Windows 10 or later
- Python 3.8 or later
- 1GB free disk space
- Internet connection (for initial download)
- 4GB RAM minimum (8GB recommended)

WHAT'S THE DIFFERENCE:
----------------------
FALLBACK MODE (keyword matching):
  - Counts words like "bullish" and "bearish"
  - No AI or deep learning
  - Fast but unreliable
  - Cannot understand context

REAL FINBERT AI:
  - Deep learning transformer model
  - Trained on financial texts
  - Understands context and nuance
  - Much more accurate
  - Research-backed confidence scoring

IMPORTANT: FILE WATCHER SERVICE
--------------------------------
The FinBERT File Watcher Service MUST be running for automatic analysis.

What it does:
  - Monitors MT5 Common Files for new market_context_*.json files
  - Automatically runs FinBERT analysis when Grande EA creates new files
  - Outputs enhanced_finbert_analysis.json for the EA to read

How to start:
  - Double-click "start_finbert_watcher.bat"
  - Keep the service window open while trading
  - Service will run continuously until stopped

How to stop:
  - Close the service window, OR
  - Press Ctrl+C in the service window, OR
  - Double-click "stop_finbert_watcher.bat"

Log file location:
  - mcp\analyze_sentiment_server\finbert_watcher.log

NEED HELP?
----------
1. Check the file watcher log: finbert_watcher.log
2. Check MT5 Experts log for emoji indicators
3. Run Python scripts manually to see errors
4. Verify Python is installed: python --version
5. Check pip works: python -m pip --version
6. List installed packages: python -m pip list
7. Verify service is running: Look for python process

TROUBLESHOOTING FILE WATCHER:
------------------------------
Problem: Service window closes immediately
Solution: Check finbert_watcher.log for errors
          Make sure Python packages are installed
          Run: python finbert_watcher_service.py --test

Problem: No analysis output appearing
Solution: Check that Grande EA is creating market_context_*.json files
          Check Common Files directory location
          Verify service log shows "Processing file: ..."

Problem: Service uses too much CPU
Solution: This is normal during analysis (30-60 seconds per file)
          Service sleeps between checks (10 seconds)
          Consider reducing InpFinBERTAnalysisInterval in EA

================================================================================

